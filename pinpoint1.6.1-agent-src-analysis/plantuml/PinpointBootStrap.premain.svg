<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="400px" preserveAspectRatio="none" style="width:810px;height:400px;" version="1.1" viewBox="0 0 810 400" width="810px" zoomAndPan="magnify"><defs><filter height="300%" id="ffm9hz42fsedg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ffm9hz42fsedg)" height="65.5317" style="stroke: #000000; stroke-width: 2.0;" width="678.5" x="13" y="211.1377"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="89" x2="89" y1="41.1201" y2="357.1782"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="443.5" x2="443.5" y1="41.1201" y2="357.1782"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="623.5" x2="623.5" y1="41.1201" y2="357.1782"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="747.5" x2="747.5" y1="41.1201" y2="357.1782"/><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="30" y="26.0439">PinpointBootStrap</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="23" y="356.1782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="30" y="379.2222">PinpointBootStrap</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="331.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="338.5" y="26.0439">AgentDirBaseClassPathResolver</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="331.5" y="356.1782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="338.5" y="379.2222">AgentDirBaseClassPathResolver</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="566.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="573.5" y="26.0439">Instrumentation</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="566.5" y="356.1782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="573.5" y="379.2222">Instrumentation</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="691.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="698.5" y="26.0439">PinpointStarter</text><rect fill="#FEFECE" filter="url(#ffm9hz42fsedg)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="691.5" y="356.1782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="698.5" y="379.2222">PinpointStarter</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="131" y1="74.8745" y2="74.8745"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131" x2="131" y1="74.8745" y2="87.8745"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90" x2="131" y1="87.8745" y2="87.8745"/><polygon fill="#A80036" points="100,83.8745,90,87.8745,100,91.8745,96,87.8745" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="341" x="96" y="70.0181">premain(String agentArgs, Instrumentation instrumentation)</text><polygon fill="#A80036" points="432,133.3833,442,137.3833,432,141.3833,436,137.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="438" y1="137.3833" y2="137.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="96" y="114.7725">new AgentDirBaseClassPathResolver()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="96" y="132.5269">verify()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="151.3833" y2="147.3833"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="151.3833" y2="155.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="443" y1="151.3833" y2="151.3833"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="131" y1="183.1377" y2="183.1377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131" x2="131" y1="183.1377" y2="196.1377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90" x2="131" y1="196.1377" y2="196.1377"/><polygon fill="#A80036" points="100,192.1377,90,196.1377,100,200.1377,96,196.1377" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="96" y="178.2813">appendToBootstrapClassLoader()</text><path d="M13,211.1377 L86,211.1377 L86,220.1377 L76,230.1377 L13,230.1377 L13,211.1377 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="65.5317" style="stroke: #000000; stroke-width: 2.0;" width="678.5" x="13" y="211.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="227.0356">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="101" y="225.7437">[agent jar list]</text><polygon fill="#A80036" points="612,250.6694,622,254.6694,612,258.6694,616,254.6694" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="618" y1="254.6694" y2="254.6694"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="96" y="249.813">appendToBootstrapClassLoaderSearch</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="268.6694" y2="264.6694"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="268.6694" y2="272.6694"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="623" y1="268.6694" y2="268.6694"/><polygon fill="#A80036" points="735.5,321.1782,745.5,325.1782,735.5,329.1782,739.5,325.1782" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="741.5" y1="325.1782" y2="325.1782"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="96" y="302.5674">new PinpointStarter()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="96" y="320.3218">start()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="339.1782" y2="335.1782"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="99" y1="339.1782" y2="343.1782"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89" x2="746.5" y1="339.1782" y2="339.1782"/><!--MD5=[5b981e8e5329f79eb4f98475346788a4]
@startuml

PinpointBootStrap -> PinpointBootStrap: premain(String agentArgs, Instrumentation instrumentation)
PinpointBootStrap -> AgentDirBaseClassPathResolver: new AgentDirBaseClassPathResolver()\nverify()
AgentDirBaseClassPathResolver - ->> PinpointBootStrap

PinpointBootStrap -> PinpointBootStrap: appendToBootstrapClassLoader()
loop agent jar list
    PinpointBootStrap -> Instrumentation: appendToBootstrapClassLoaderSearch
    Instrumentation - ->> PinpointBootStrap
end

PinpointBootStrap -> PinpointStarter: new PinpointStarter()\nstart()
PinpointStarter - ->> PinpointBootStrap

@enduml

PlantUML version 1.2019.10(Sat Sep 14 04:53:03 CST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b58
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>