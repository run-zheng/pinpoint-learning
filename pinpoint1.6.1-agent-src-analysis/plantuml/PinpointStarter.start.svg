<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="892px" preserveAspectRatio="none" style="width:2240px;height:892px;" version="1.1" viewBox="0 0 2240 892" width="2240px" zoomAndPan="magnify"><defs><filter height="300%" id="fqeqyjvu83609" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="772.8423" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="51.1201"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369" y="137.3833"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="534" y="183.1377"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="841" y="228.8921"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1097" y="274.6465"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1354.5" y="320.4009"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1566" y="428.6641"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1718" y="519.1729"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="95.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1718" y="627.436"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2178" y="676.9448"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2178" y="754.4536"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="64" x2="64" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="373.5" x2="373.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538.5" x2="538.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="845.5" x2="845.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1101.5" x2="1101.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1359.5" x2="1359.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1570.5" x2="1570.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1722.5" x2="1722.5" y1="41.1201" y2="848.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2183" x2="2183" y1="41.1201" y2="848.9624"/><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="15" y="26.0439">PinpointStarter</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="8" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="15" y="871.0063">PinpointStarter</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="331.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="338.5" y="26.0439">IdValidator</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="331.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="338.5" y="871.0063">IdValidator</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="426.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="433.5" y="26.0439">AgentDirBaseClassPathResolver</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="426.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="433.5" y="871.0063">AgentDirBaseClassPathResolver</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="247" x="720.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="233" x="727.5" y="26.0439">DefaultTraceMetadataLoaderService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="247" x="720.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="233" x="727.5" y="871.0063">DefaultTraceMetadataLoaderService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="981.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="223" x="988.5" y="26.0439">DefaultServiceTypeRegistryService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="981.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="223" x="988.5" y="871.0063">DefaultServiceTypeRegistryService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="250" x="1232.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="236" x="1239.5" y="26.0439">DefaultAnnotationKeyRegistryService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="250" x="1232.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="236" x="1239.5" y="871.0063">DefaultAnnotationKeyRegistryService</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1496.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1503.5" y="26.0439">DefaultProfilerConfig</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="1496.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1503.5" y="871.0063">DefaultProfilerConfig</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="1655.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="1662.5" y="26.0439">AgentClassLoader</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="1655.5" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="1662.5" y="871.0063">AgentClassLoader</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="2133" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="2140" y="26.0439">DefaultAgent</text><rect fill="#FEFECE" filter="url(#fqeqyjvu83609)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="2133" y="847.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="2140" y="871.0063">DefaultAgent</text><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="772.8423" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="51.1201"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="369" y="137.3833"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="534" y="183.1377"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="841" y="228.8921"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1097" y="274.6465"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1354.5" y="320.4009"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1566" y="428.6641"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1718" y="519.1729"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="95.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1718" y="627.436"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2178" y="676.9448"/><rect fill="#FFFFFF" filter="url(#fqeqyjvu83609)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2178" y="754.4536"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="111" y1="74.8745" y2="74.8745"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="74.8745" y2="87.8745"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="87.8745" y2="87.8745"/><polygon fill="#A80036" points="80,83.8745,70,87.8745,80,91.8745,76,87.8745" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="76" y="70.0181">start()</text><polygon fill="#A80036" points="357,133.3833,367,137.3833,357,141.3833,361,137.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="363" y1="137.3833" y2="137.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="76" y="114.7725">1.getAgentId() -&gt;  pinpoint.agentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="76" y="132.5269">getApplicationName -&gt; pinpoint.applicationName</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="151.3833" y2="147.3833"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="151.3833" y2="155.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="373" y1="151.3833" y2="151.3833"/><polygon fill="#A80036" points="522,179.1377,532,183.1377,522,187.1377,526,183.1377" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="528" y1="183.1377" y2="183.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="140" y="178.2813">2.resolvePlugins() -&gt; ${agentDir}/plugin/*.jar</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="197.1377" y2="193.1377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="197.1377" y2="201.1377"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="538" y1="197.1377" y2="197.1377"/><polygon fill="#A80036" points="829,224.8921,839,228.8921,829,232.8921,833,228.8921" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="835" y1="228.8921" y2="228.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="625" x="204" y="224.0356">3.1.&lt;&lt;create&gt;&gt; -&gt; Load Plugins meta by SPI: com.navercorp.pinpoint.common.trace.TraceMetadataProvider</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="242.8921" y2="238.8921"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="242.8921" y2="246.8921"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="845" y1="242.8921" y2="242.8921"/><polygon fill="#A80036" points="1085,270.6465,1095,274.6465,1085,278.6465,1089,274.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="1091" y1="274.6465" y2="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="268" y="269.79">3.2.&lt;&lt;create&gt;&gt; -&gt; ServiceTypeRegistry</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="288.6465" y2="284.6465"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="288.6465" y2="292.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="1101" y1="288.6465" y2="288.6465"/><polygon fill="#A80036" points="1342.5,316.4009,1352.5,320.4009,1342.5,324.4009,1346.5,320.4009" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="1348.5" y1="320.4009" y2="320.4009"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="332" y="315.5444">3.3.&lt;&lt;create&gt;&gt; -&gt; AnnotationKeyRegistry</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="334.4009" y2="330.4009"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="334.4009" y2="338.4009"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="1358.5" y1="334.4009" y2="334.4009"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="111" y1="383.9097" y2="383.9097"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="383.9097" y2="396.9097"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="396.9097" y2="396.9097"/><polygon fill="#A80036" points="80,392.9097,70,396.9097,80,400.9097,76,396.9097" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="76" y="361.2988">getConfigPath() =&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="108" y="379.0532">4.1.configPath: ${agentDir}/pinpoint.config</text><polygon fill="#A80036" points="1554,424.6641,1564,428.6641,1554,432.6641,1558,428.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="1560" y1="428.6641" y2="428.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="396" y="423.8076">4.2.load(configPath)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="442.6641" y2="438.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="442.6641" y2="446.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="1570" y1="442.6641" y2="442.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="111" y1="474.4185" y2="474.4185"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="474.4185" y2="487.4185"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="487.4185" y2="487.4185"/><polygon fill="#A80036" points="80,483.4185,70,487.4185,80,491.4185,76,487.4185" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="76" y="469.562">5.1.resolveLib() =&gt; ${agentDir}/lib</text><polygon fill="#A80036" points="1706,515.1729,1716,519.1729,1706,523.1729,1710,519.1729" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="1712" y1="519.1729" y2="519.1729"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="460" y="514.3164">&lt;&lt;create&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="533.1729" y2="529.1729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="533.1729" y2="537.1729"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="1722" y1="533.1729" y2="533.1729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="111" y1="582.6816" y2="582.6816"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="582.6816" y2="595.6816"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="595.6816" y2="595.6816"/><polygon fill="#A80036" points="80,591.6816,70,595.6816,80,599.6816,76,595.6816" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="76" y="560.0708">5.2.getBootClass =&gt; DefaultAgent.class</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="76" y="577.8252">createAgentOption =&gt; DefaultAgentOption</text><polygon fill="#A80036" points="1706,623.436,1716,627.436,1706,631.436,1710,627.436" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="1712" y1="627.436" y2="627.436"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="524" y="622.5796">6.boot(option) =&gt; DefaultAgent   option-&gt;DefaultAgentOption</text><polygon fill="#A80036" points="2166,672.9448,2176,676.9448,2166,680.9448,2170,676.9448" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1728" x2="2172" y1="676.9448" y2="676.9448"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="1735" y="654.334">Constructor.newInstance(agentOption)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="1735" y="672.0884">&lt;- ContextClassLoaderExecuteTemplate.execute|PinpointURLClassLoader</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1728" x2="1738" y1="690.9448" y2="686.9448"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1728" x2="1738" y1="690.9448" y2="694.9448"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1728" x2="2182" y1="690.9448" y2="690.9448"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="722.6992" y2="718.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="722.6992" y2="726.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="1722" y1="722.6992" y2="722.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="534" y="717.8428">DefaultAgent</text><polygon fill="#A80036" points="2166,750.4536,2176,754.4536,2166,758.4536,2170,754.4536" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="2172" y1="754.4536" y2="754.4536"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="588" y="749.5972">7.start()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="768.4536" y2="764.4536"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="79" y1="768.4536" y2="772.4536"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="2182" y1="768.4536" y2="768.4536"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="111" y1="822.9624" y2="822.9624"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="822.9624" y2="835.9624"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="835.9624" y2="835.9624"/><polygon fill="#A80036" points="74,831.9624,64,835.9624,74,839.9624,70,835.9624" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="76" y="800.3516">8.registerShutdownHook(pinpointAgent)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="92" y="818.106">pinpointAgent -&gt; DefaultAgent</text><!--MD5=[4a31a81482c9527092ebda13de15d08e]
@startuml
activate PinpointStarter
PinpointStarter -> PinpointStarter: start()
    PinpointStarter -> IdValidator: 1.getAgentId() ->  pinpoint.agentId \ngetApplicationName -> pinpoint.applicationName
    activate IdValidator
    IdValidator - ->> PinpointStarter
    deactivate IdValidator

    PinpointStarter -> AgentDirBaseClassPathResolver: \t\t2.resolvePlugins() -> ${agentDir}/plugin/*.jar
    activate AgentDirBaseClassPathResolver
    AgentDirBaseClassPathResolver - ->>  PinpointStarter
    deactivate AgentDirBaseClassPathResolver

    PinpointStarter -> DefaultTraceMetadataLoaderService: \t\t\t\t3.1.<<create>> -> Load Plugins meta by SPI: com.navercorp.pinpoint.common.trace.TraceMetadataProvider
    activate DefaultTraceMetadataLoaderService
    DefaultTraceMetadataLoaderService - ->> PinpointStarter
    deactivate DefaultTraceMetadataLoaderService

    PinpointStarter -> DefaultServiceTypeRegistryService: \t\t\t\t\t\t3.2.<<create>> -> ServiceTypeRegistry
    activate DefaultServiceTypeRegistryService
    DefaultServiceTypeRegistryService - ->> PinpointStarter
    deactivate DefaultServiceTypeRegistryService


    PinpointStarter -> DefaultAnnotationKeyRegistryService: \t\t\t\t\t\t\t\t3.3.<<create>> -> AnnotationKeyRegistry
    activate DefaultAnnotationKeyRegistryService
    DefaultAnnotationKeyRegistryService - ->> PinpointStarter
    deactivate DefaultAnnotationKeyRegistryService

    PinpointStarter -> PinpointStarter: getConfigPath() => \n\t4.1.configPath: ${agentDir}/pinpoint.config
    PinpointStarter -> DefaultProfilerConfig: \t\t\t\t\t\t\t\t\t\t4.2.load(configPath)
    activate DefaultProfilerConfig
    DefaultProfilerConfig - ->> PinpointStarter
    deactivate DefaultProfilerConfig


    PinpointStarter -> PinpointStarter: 5.1.resolveLib() => ${agentDir}/lib
    PinpointStarter -> AgentClassLoader: \t\t\t\t\t\t\t\t\t\t\t\t<<create>>
    activate AgentClassLoader
    AgentClassLoader - ->> PinpointStarter
    deactivate AgentClassLoader

    PinpointStarter -> PinpointStarter: 5.2.getBootClass => DefaultAgent.class\ncreateAgentOption => DefaultAgentOption
    PinpointStarter -> AgentClassLoader: \t\t\t\t\t\t\t\t\t\t\t\t\t\t6.boot(option) => DefaultAgent   option->DefaultAgentOption
    activate AgentClassLoader
        AgentClassLoader -> DefaultAgent:  Constructor.newInstance(agentOption) \n<- ContextClassLoaderExecuteTemplate.execute|PinpointURLClassLoader
        activate DefaultAgent
        DefaultAgent - ->> AgentClassLoader
        deactivate DefaultAgent
    AgentClassLoader - ->> PinpointStarter: \t\t\t\t\t\t\t\t\t\t\t\t\t\tDefaultAgent
    deactivate AgentClassLoader

    PinpointStarter -> DefaultAgent: \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t7.start()
    activate DefaultAgent
    DefaultAgent - ->> PinpointStarter
    deactivate DefaultAgent

PinpointStarter -> PinpointStarter: 8.registerShutdownHook(pinpointAgent)\n    pinpointAgent -> DefaultAgent
deactivate PinpointStarter
@enduml

PlantUML version 1.2019.10(Sat Sep 14 04:53:03 CST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b58
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>